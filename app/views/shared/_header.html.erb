<header class="container mx-auto flex-1" data-controller="mobile-menu">
  <div class="mx-auto flex items-center justify-between py-3 px-3 xl:px-0">
    <!-- Logo -->
    <div class="flex items-center gap-3">
      <%= link_to root_path, class: "flex items-center gap-2" do %>
        <span class="inline-flex h-8 w-8 items-center justify-center rounded bg-orange-600 text-white font-bold">F</span>
        <span class="text-lg font-semibold">
          Find My Club
        </span>
      <% end %>
    </div>

    <!-- Desktop Navigation -->
    <nav class="hidden md:flex items-center gap-4 text-sm">
      <%= link_to clubs_path, class: "inline-flex items-center gap-2 h-9 text-gray-700 hover:text-gray-900 dark:text-gray-300 hover:dark:text-white" do %>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5">
          <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"/>
        </svg>
        Find Clubs
      <% end %>

      <% if user_signed_in? %>
        <%= link_to "My Clubs", my_clubs_path, class: "inline-flex items-center h-9 text-gray-700 hover:text-gray-900 dark:text-gray-300 hover:dark:text-white" %>
        <%= link_to "Account", edit_user_registration_path, class: "inline-flex items-center h-9 text-gray-700 hover:text-gray-900 dark:text-gray-300 hover:dark:text-white" %>
        <%= button_to "Log out", destroy_user_session_path, method: :delete, data: { turbo_confirm: 'Are you sure you want to Log Out?' }, class: "inline-flex h-9 items-center rounded-md bg-red-600 px-3 font-medium text-white hover:bg-red-700" %>
      <% else %>
        <%= link_to "Log in", new_user_session_path, class: "inline-flex items-center h-9 text-gray-700 hover:text-gray-900 dark:text-gray-300 hover:dark:text-white" %>
        <%= link_to "Sign up", new_user_registration_path, class: "inline-flex h-9 items-center rounded-md bg-orange-600 px-3 font-medium text-white hover:bg-orange-700" %>
      <% end %>

      <button data-controller="theme-toggle" data-theme-toggle-target="button" data-action="click->theme-toggle#toggle" aria-label="Toggle theme" aria-pressed="false" class="inline-flex items-center justify-center h-9 w-9 rounded-md text-gray-700 hover:text-gray-900 dark:text-gray-300 hover:dark:text-white cursor-pointer" title="Toggle theme">
        <!-- Lightbulb icon -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5">
          <path d="M12 2a7 7 0 0 0-4.95 11.95c.41.41.82 1.05 1 1.68l.14.5h7.62l.14-.5c.18-.63.59-1.27 1-1.68A7 7 0 0 0 12 2Zm-3 15.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v.5a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-.5Z"/>
        </svg>
      </button>
    </nav>

    <!-- Mobile menu button -->
    <div class="md:hidden flex items-center gap-2">
      <button data-controller="theme-toggle" data-theme-toggle-target="button" data-action="click->theme-toggle#toggle" aria-label="Toggle theme" aria-pressed="false" class="inline-flex items-center justify-center h-9 w-9 rounded-md text-gray-700 hover:text-gray-900 dark:text-gray-300 hover:dark:text-white cursor-pointer" title="Toggle theme">
        <!-- Lightbulb icon -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5">
          <path d="M12 2a7 7 0 0 0-4.95 11.95c.41.41.82 1.05 1 1.68l.14.5h7.62l.14-.5c.18-.63.59-1.27 1-1.68A7 7 0 0 0 12 2Zm-3 15.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v.5a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-.5Z"/>
        </svg>
      </button>

      <button data-action="click->mobile-menu#toggle" aria-label="Toggle menu" class="inline-flex items-center justify-center h-9 w-9 rounded-md text-gray-700 hover:text-gray-900 dark:text-gray-300 hover:dark:text-white cursor-pointer">
        <!-- Hamburger icon -->
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Navigation Menu -->
  <div data-mobile-menu-target="menu" class="hidden md:hidden border-t border-gray-200 dark:border-gray-700">
    <nav class="px-3 py-4 space-y-2">
      <%= link_to clubs_path, data: { action: "click->mobile-menu#close" }, class: "flex items-center gap-2 px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800" do %>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5">
          <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"/>
        </svg>
        Find Clubs
      <% end %>

      <% if user_signed_in? %>
        <%= link_to "My Clubs", my_clubs_path, data: { action: "click->mobile-menu#close" }, class: "block px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800" %>
        <%= link_to "Account", edit_user_registration_path, data: { action: "click->mobile-menu#close" }, class: "block px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800" %>
        <%= button_to "Log out", destroy_user_session_path, method: :delete, data: { turbo_confirm: 'Are you sure you want to Log Out?' }, class: "w-full text-left px-3 py-2 rounded-md bg-red-600 text-white hover:bg-red-700" %>
      <% else %>
        <%= link_to "Log in", new_user_session_path, data: { action: "click->mobile-menu#close" }, class: "block px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800" %>
        <%= link_to "Sign up", new_user_registration_path, data: { action: "click->mobile-menu#close" }, class: "block px-3 py-2 rounded-md bg-orange-600 text-white hover:bg-orange-700" %>
      <% end %>
    </nav>
  </div>
</header>
